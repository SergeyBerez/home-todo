(this["webpackJsonptodo-firebase"]=this["webpackJsonptodo-firebase"]||[]).push([[0],{114:function(e,t,a){},119:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var s=a(4),n=a(1),r=a.n(n),i=a(14),c=a.n(i),o=(a(114),a(50)),l=a(73),d=a.n(l),u=a(34),j=a(84),b=a(53),h=a(69),p=a(17),O=a(178),m=(a(119),a(27)),g=a(47),x=a(163),f=a(25),v=a(6),k=a(182),y=a(168),w=a(169),N=a(172),T=a(166),S=a(58),C=a(171),I=a(170),_=a(88),U=a.n(_),M=a(90),D=a.n(M),J=a(89),B=a.n(J),z=a(173),A=a(174),F=a(175),H=a(91),E=a.n(H),L=240,q=Object(x.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:L,width:"calc(100% - ".concat(L,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:L,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:L,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(m.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(o.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}})),K=[{title:"home",link:"/"},{title:"users",link:"/users"},{title:"about",link:"/about"}],R=function(){var e,t,a=q(),n=Object(f.a)(),i=r.a.useState(!1),c=Object(b.a)(i,2),o=c[0],l=c[1];return Object(s.jsxs)("div",{className:a.root,children:[Object(s.jsx)(T.a,{}),Object(s.jsx)(y.a,{position:"fixed",className:Object(v.a)(a.appBar,Object(m.a)({},a.appBarShift,o)),children:Object(s.jsxs)(w.a,{children:[Object(s.jsx)(I.a,{color:"inherit","aria-label":"open drawer",onClick:function(){l(!0)},edge:"start",className:Object(v.a)(a.menuButton,Object(m.a)({},a.hide,o)),children:Object(s.jsx)(U.a,{})}),Object(s.jsx)(S.a,{variant:"h6",noWrap:!0,children:"Menu"})]})}),Object(s.jsxs)(k.a,{variant:"permanent",className:Object(v.a)(a.drawer,(e={},Object(m.a)(e,a.drawerOpen,o),Object(m.a)(e,a.drawerClose,!o),e)),classes:{paper:Object(v.a)((t={},Object(m.a)(t,a.drawerOpen,o),Object(m.a)(t,a.drawerClose,!o),t))},children:[Object(s.jsx)("div",{className:a.toolbar,children:Object(s.jsx)(I.a,{onClick:function(){l(!1)},children:"rtl"===n.direction?Object(s.jsx)(B.a,{}):Object(s.jsx)(D.a,{})})}),Object(s.jsx)(C.a,{}),Object(s.jsx)(N.a,{children:K.map((function(e,t){return Object(s.jsxs)(z.a,{button:!0,children:[Object(s.jsx)(A.a,{children:Object(s.jsx)(g.b,{exact:!0,to:e.link,className:a.link,children:Object(s.jsx)(E.a,{})})}),Object(s.jsx)(F.a,{primary:e.title})]},t)}))})]})]})},W=Object(x.a)((function(e){return{root:{marginTop:70}}}));function P(){var e=W();return Object(s.jsx)("h1",{className:e.root,children:"home page"})}var G=a(179),Z=a(176),Q=a(181),X=a(93),Y=a.n(X),$=a(92),V=a.n($),ee=Object(x.a)((function(e){return{button:{margin:8},li:{display:"flex",justifyContent:"space-between",textAlign:"center"}}}));var te=function(e){var t=e.users,a=e.deleteUser,n=ee();return t.map((function(e,t){return Object(s.jsxs)("li",{className:n.li,children:[Object(s.jsx)(z.a,{button:!0,className:n.li,children:Object(s.jsxs)(g.b,{className:"nav-link",to:"/users/"+parseInt(e.id_user),children:[Object(s.jsx)("span",{children:t+1})," \xa0",Object(s.jsx)(V.a,{}),Object(s.jsx)(F.a,{primary:e.user_name}),Object(s.jsx)(F.a,{primary:e.time}),Object(s.jsxs)("span",{children:[" you have \xa0",e.countTask," tasks"]})]})}),Object(s.jsx)(Z.a,{onClick:function(){a(t)},variant:"contained",color:"secondary",className:n.button,startIcon:Object(s.jsx)(Y.a,{}),children:"Delete"})]},t)}))},ae=a(94),se=a.n(ae),ne=Object(x.a)((function(e){return{root:{display:"flex",justifyContent:"space-between"},header:{marginTop:70},textField:{width:"85%",margin:8},button:{margin:e.spacing(1)}}}));var re=function(e){var t=ne();return console.log("================render ===== users",e),Object(s.jsxs)("div",{className:t.header,children:[Object(s.jsxs)(Q.a,{icon:!1,severity:"info",className:t.root,children:[Object(s.jsx)(se.a,{})," \xa0",0!==Object.keys(e.users).length?Object(s.jsxs)(s.Fragment,{children:["\xa0 ",Object(s.jsx)("p",{children:"all users"})," \xa0 \xa0",Object(s.jsx)("span",{children:Object.keys(e.users).length})]}):Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("span",{children:"not users add user"})})]}),Object(s.jsxs)("div",{className:t.root,children:[Object(s.jsx)(G.a,{value:e.value,onChange:function(t){e.changeTitle(t.target.value)},onKeyUp:e.keyHandle,id:"standard-full-width",label:"Enter user",className:t.textField,placeholder:"name user",helperText:"",margin:"normal",InputLabelProps:{shrink:!0},type:"text"}),Object(s.jsx)(Z.a,{onClick:e.addUser,variant:"contained",className:t.button,children:"ADD USER"})]}),Object(s.jsx)("ul",{children:Object(s.jsx)(te,{users:e.users,deleteUser:e.deleteUser})})]})},ie=a(95),ce=a(96),oe=a(98),le=a(97);function de(e){var t=e.title,a=e.toggleModal,n=e.changeTitlebyModal,r=e.value,i=e.editTask,c=e.id_user,o=e.id_task;return Object(s.jsx)("div",{className:"modal",children:Object(s.jsx)("div",{className:"modal-dialog",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:t}),Object(s.jsx)("button",{type:"button",className:"close",onClick:a,children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsx)("input",{value:r,onChange:function(e){n(e.target.value)},type:"text",className:"form-control"})}),Object(s.jsxs)("div",{className:"modal-footer",children:[Object(s.jsx)("button",{onClick:a,type:"button",className:"btn btn-secondary",children:"Close"}),Object(s.jsx)("button",{onClick:function(){i(c,o)},type:"button",className:"btn btn-primary",children:"Save changes"})]})]})})})}var ue=function(e){Object(oe.a)(a,e);var t=Object(le.a)(a);function a(){var e;Object(ie.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={modalShow:!1},e}return Object(ce.a)(a,[{key:"toggleModal",value:function(){this.setState({modalShow:!this.state.modalShow})}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("li",{className:"list-group-item  userTasksLi",children:[Object(s.jsxs)("div",{className:"list-item",children:[Object(s.jsx)("i",{className:"fas fa-thumbtack"}),Object(s.jsx)("span",{children:this.props.title})]}),Object(s.jsx)("div",{className:"list-item",children:Object(s.jsx)("span",{children:this.props.time})}),Object(s.jsxs)("div",{className:"list-item",children:[Object(s.jsx)("button",{onClick:this.toggleModal.bind(this),type:"button",className:"btn btn-outline-warning",children:Object(s.jsx)("i",{className:"fas fa-edit"})}),Object(s.jsx)("button",{onClick:function(){e.props.deleteTask(e.props.id_user,e.props.id_task,e.props.id)},type:"button",className:"btn btn-outline-danger",children:Object(s.jsx)("i",{className:"fas fa-trash-alt"})}),this.state.modalShow?Object(s.jsx)(de,{id_user:this.props.id_user,id_task:this.props.id_task,title:this.props.title,value:this.props.value,editTask:this.props.editTask,changeTitlebyModal:this.props.changeTitlebyModal,toggleModal:this.toggleModal.bind(this)}):null]})]})}}]),a}(n.Component),je=Object(x.a)((function(e){return{root:{display:"flex",justifyContent:"space-between"},header:{marginTop:70},textField:{width:"85%",margin:8},button:{margin:e.spacing(1)}}})),be=function(e){var t,a,n=je();return console.log("==============UserPersonalTasks render user tasks",e),e.users.length&&(void 0===(a=e.users.find((function(t){return t.id_user===parseInt(e.history.match.params.id)}))).tasks&&(a.tasks=[]),t=a.tasks.map((function(t,a){return Object(s.jsx)(ue,{id:a,id_user:parseInt(e.history.match.params.id),id_task:t.id_task,value:e.valueTodo,title:t.title,time:t.time_task,editTask:e.editTask,changeTitlebyModal:e.changeTitlebyModal,deleteTask:e.deleteTask},a)}))),Object(s.jsxs)("div",{className:n.header,children:[Object(s.jsxs)(Q.a,{icon:!1,severity:"info",className:n.root,children:[" ",void 0===t?Object(s.jsx)("h1",{children:"at firs add user"}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h2",{children:a.user_name}),"\xa0",Object(s.jsxs)("h3",{children:["tasks \xa0",a.tasks.length]})]})]}),Object(s.jsx)(G.a,Object(m.a)({id:"standard-full-width",label:"Enter task",className:n.textField,placeholder:"name task",helperText:"",margin:"normal",InputLabelProps:{shrink:!0},type:"text",value:e.valueUser,onKeyUp:function(t){e.keyHandle(t,parseInt(e.history.match.params.id),a.tasks.length)},onChange:function(t){e.changeTitleUserTask(t.target.value)}},"type","text")),Object(s.jsx)(Z.a,{onClick:function(){e.addTodoTaskUser(parseInt(e.history.match.params.id),a.tasks.length)},disabled:0===e.users.length,variant:"contained",className:n.button,children:"ADD TASK"}),Object(s.jsx)("div",{children:Object(s.jsxs)("ul",{className:"list-group list-group-flush",children:[t," "]})})]})},he=a(177),pe=Object(x.a)((function(e){return{root:{marginTop:70}}}));function Oe(e){var t=pe();return Object(s.jsx)("div",{className:t.root,children:Object(s.jsxs)(Q.a,{severity:"info",children:[Object(s.jsx)(he.a,{}),"\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0438 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0437\u0430\u043c\u0435\u0442\u043e\u043a \xa0 \xa0",Object(s.jsx)("strong",{children:"\u0432\u0435\u0440\u0441\u0438\u044f \xa01.1.1"})]})})}var me=function(){var e=JSON.parse(localStorage.getItem("users"))||[],t=Object(n.useState)(e),a=Object(b.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)({value:""}),l=Object(b.a)(c,2),m=l[0],g=l[1],x=Object(n.useState)({value:""}),f=Object(b.a)(x,2),v=f[0],k=f[1];Object(n.useEffect)((function(){console.log("use effect"),y()}),[]);var y=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,s,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-quize-46f17.firebaseio.com/users.json");case 2:if(a=e.sent,s=Object(u.a)(r),console.log(s),!a.ok){e.next=11;break}return e.next=8,a.json();case 8:n=e.sent,console.log("getUsersFromFairbase",n),null!==n&&Object.values(n).forEach((function(e){s.push(e)}));case 11:c=Array.from(new Set(s.map(JSON.stringify))).map(JSON.parse),console.log(c),localStorage.setItem("users",JSON.stringify(c)),i(c);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){h.a.database().ref("users/"+e.id_user).set(e)},N=function(){console.log("adduser");var e={id_user:Date.now()+1,time:(new Date).toString().split("G")[0],user_name:m.value,completed:!1,tasks:[],countTask:0};if(m.value.length>2){var t=Object(u.a)(r);t.push(e),localStorage.setItem("users",JSON.stringify(t)),i(t),g({value:""}),w(e)}},T=function(e){console.log("vlaue",e),g({value:e})},S=function(e){k({value:e})},C=function(e){console.log("keyHandle"),13===e.keyCode&&m.value.length>2&&N()},I=function(e,t,a){console.log("keyHandleInputTask",t,a),13===e.keyCode&&m.value.length>2&&_(t,a)},_=function(e,t){if(console.log("ddTodoTaskUser"),m.value.length>2){var a=Object(u.a)(r),s=a.find((function(t,a){return t.id_user===e}));s.countTask=t+1;var n=Object(u.a)(s.tasks),c=new Date;n.push({id_task:(new Date).getTime()+1,title:m.value,time_task:"".concat((new Date).toLocaleDateString()," :").concat(c.getHours(),":").concat(c.getMinutes())}),s.tasks=n,i(a),localStorage.setItem("users",JSON.stringify(a)),g({value:""}),w(s),console.log("user===================",s),console.log("user===================",a)}},U=function(e,t){console.log(e,t);var a=Object(u.a)(r),s=Object(o.a)({},a[e]),n=Object(u.a)(a[e].tasks);console.log(n);var c=n.map((function(e){return e.id_task===t&&(e.title=v.value),e}));n=c,s.tasks=n,a[e]=s,i(Object(o.a)({},a)),localStorage.setItem("users",JSON.stringify(Object(o.a)({},a))),k({value:""})},M=function(e){var t=Object(u.a)(r);t.splice(e,1),i(t),w(t),localStorage.setItem("users",JSON.stringify(t))},D=function(e,t,a){console.log(a);var s=Object(u.a)(r),n=s.find((function(t){return t.id_user===e}));n.tasks.splice(a,1),s.push(n);var c=s.filter((function(e,t){return s.indexOf(e)===t}));console.log(s),console.log(n),w(c),i(c),localStorage.setItem("users",JSON.stringify(c))};return Object(s.jsxs)(O.a,{maxWidth:"md",children:[Object(s.jsx)(R,{}),Object(s.jsxs)(p.d,{children:[Object(s.jsx)(p.b,{exact:!0,path:"/",component:P}),Object(s.jsx)(p.b,{exact:!0,path:"/users",render:function(){return Object(s.jsx)(re,{addUser:N,keyHandle:C,changeTitle:T,users:r,value:m.value,deleteUser:M})}}),Object(s.jsx)(p.b,{path:"/users/:id",render:function(e){return Object(s.jsx)(be,{valueUser:m.value,valueTodo:v.value,history:e,users:r,keyHandle:I,addTodoTaskUser:_,editTask:U,changeTitleUserTask:T,changeTitlebyModal:S,deleteTask:D})}}),Object(s.jsx)(p.b,{path:"/about",component:Oe}),Object(s.jsx)(p.a,{to:"/"}),Object(s.jsx)(p.b,{render:function(){return Object(s.jsx)("h1",{style:{color:"red"},children:" 404 not found page..."})}})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));h.a.initializeApp({apiKey:"AIzaSyB-hPQZWluKy43wUjA7Zi6k5MpDR4ap7RY",authDomain:"react-quize-46f17.firebaseapp.com",databaseURL:"https://react-quize-46f17.firebaseio.com",projectId:"react-quize-46f17",storageBucket:"react-quize-46f17.appspot.com",messagingSenderId:"822369206100",appId:"1:822369206100:web:eb939cd61dc1e529cbd2c1"});var ge=Object(s.jsx)(g.a,{children:Object(s.jsx)(me,{})});c.a.render(ge,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[125,1,2]]]);
//# sourceMappingURL=main.a64ff5ae.chunk.js.map