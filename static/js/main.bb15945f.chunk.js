(this["webpackJsonptodo-firebase"]=this["webpackJsonptodo-firebase"]||[]).push([[0],{122:function(e,t,a){},135:function(e,t,a){"use strict";a.r(t);var n=a(4),s=a(0),r=a.n(s),i=a(14),c=a.n(i),o=(a(122),a(22)),l=a(40),u=a(21),d=a(9),j=a(46),b=a(51);a(123),a(125),a(136),a(137);b.a.initializeApp({apiKey:"AIzaSyB-hPQZWluKy43wUjA7Zi6k5MpDR4ap7RY",authDomain:"react-quize-46f17.firebaseapp.com",databaseURL:"https://react-quize-46f17.firebaseio.com",projectId:"react-quize-46f17",storageBucket:"gs://react-quize-46f17.appspot.com",messagingSenderId:"822369206100",appId:"1:822369206100:web:eb939cd61dc1e529cbd2c1"});var p=b.a.database(),m=(b.a.storage(),b.a.auth()),h=(b.a.firestore(),b.a),O=r.a.createContext();function x(){return Object(s.useContext)(O)}var f=function(e){var t=e.children,a=JSON.parse(localStorage.getItem("LOGIN_USER"))||!1,r=Object(s.useState)(!1),i=Object(u.a)(r,2),c=i[0],o=i[1],l=Object(s.useState)(a),d=Object(u.a)(l,2),j=d[0],b=d[1];Object(s.useEffect)((function(){m.onAuthStateChanged((function(e){e&&(b(e),o(!0),localStorage.setItem("LOGIN_USER",JSON.stringify({name:e.displayName||"",id:e.uid,localId:e.l,email:e.email})))}))}),[]);return Object(n.jsx)(O.Provider,{value:{currentUser:c,setCurrentUser:o,signUp:function(e,t){return m.createUserWithEmailAndPassword(e,t)},signIn:function(e,t){return m.signInWithEmailAndPassword(e,t)},authIsExit:function(){localStorage.removeItem("LOGIN_USER"),m.signOut(),o(!1)},authisLogged:function(){console.log("setCurrentUser(true)"),o(!0)},authInfo:j},children:t})},g=r.a.createContext(),v=function(e){return Object(s.useContext)(g)};var k=function(e){var t=e.children,a=Object(s.useState)({value:"",validate:!1,touched:!1}),r=Object(u.a)(a,2),i=r[0],c=r[1],l=Object(s.useState)({value:"",validate:!1,touched:!1}),d=Object(u.a)(l,2),j=d[0],b=d[1],p=Object(s.useState)({value:"",showModal:!1,validate:!1}),m=Object(u.a)(p,2),h=m[0],O=m[1],x=Object(s.useState)(""),f=Object(u.a)(x,2),v=f[0],k=f[1];return Object(n.jsx)(g.Provider,{value:{valueInput:i,valueInputTask:j,valueTodo:h,handleUserInput:function(e){var t=e.target.value.trim(),a=/^[A-Z0-9]+[A-Z]{2,4}$/i.test(t);c((function(e){return a?(k(""),{value:t,validate:a,touched:!1}):(k("\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u0432\u0430\u0442\u0435\u043b\u044f \u0431\u043e\u043b\u044c\u0448\u0435 3 \u0431\u0443\u043a\u0432"),{value:t,validate:a,touched:!0})}))},handleUserInputTask:function(e){var t=e.target.value,a=/^[A-Z0-9]+[A-Z]{2,4}$/i.test(t);b((function(e){return a?(console.log("11111111111111111",a),k(""),{value:t,validate:a,touched:!1}):(k("\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0434\u0430\u0447\u0443 \u043f\u043e\u043b\u044c\u0437\u0432\u0430\u0442\u0435\u043b\u044f \u0431\u043e\u043b\u044c\u0448\u0435 3 \u0431\u0443\u043a\u0432"),{value:t,validate:a,touched:!0})}))},setValue:c,setValueInputTask:b,setValueTodor:O,changeTitlebyModal:function(e,t){var a=e.target.value.trim();console.log(t.current);var n=/^[A-Z0-9]+[A-Z]{2,4}$/i.test(a);O(Object(o.a)(Object(o.a)({},h),{},{value:a,validate:n,showModal:!0}))},errorMessage:v,setErrorMessage:k},children:t})},y=a(17),w=a(206),S=(a(92),a(207)),N=a(183),I=a(187),T=a(56),C=a(94),U=a.n(C),_=a(74),A=a.n(_),z=a(189),L=a(188),E=Object(N.a)((function(e){var t;return t={},Object(d.a)(t,e.breakpoints.up("xs"),{input:{width:"100%","& input":{padding:"13px 10px"}},dialog:{textAlign:"center","& form":{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"}}}),Object(d.a)(t,e.breakpoints.up("sm"),{input:{width:"100%","& input":{padding:"13px 15px"}}}),Object(d.a)(t,e.breakpoints.up("md"),{input:{width:"100%","& input":{padding:"15px 15px"}}}),Object(d.a)(t,"typography",{marginBottom:5,fontSize:"0.8rem",textOverflow:"ellipsis"}),Object(d.a)(t,"icon",{marginLeft:"auto"}),Object(d.a)(t,"blockButton",{textAlign:"center",width:"100%"}),Object(d.a)(t,"button",{margin:"5px"}),Object(d.a)(t,"userAvatar",{borderRadius:"50%",maxWidth:30}),t})),M=function(){var e=E(),t=Object(y.g)(),a=x(),r=a.currentUser,i=a.authisLogged,c=a.authIsExit,l=(a.signUp,a.authInfo),j=Object(s.useState)(""),b=Object(u.a)(j,2),p=b[0],O=b[1],f=Object(s.useState)({email:"",password:""}),g=Object(u.a)(f,2),v=g[0],k=g[1],w=Object(s.useState)(!1),N=Object(u.a)(w,2),C=N[0],_=N[1],M=function(e){_(!1)},D=function(e){k(Object(o.a)(Object(o.a)({},v),{},Object(d.a)({},e.target.type,e.target.value)))},R=function(e){t.push("/users/")};return Object(n.jsx)("div",{children:r?Object(n.jsxs)("div",{children:[Object(n.jsx)(T.a,{className:e.typography,children:l.displayName}),Object(n.jsx)("img",{className:e.userAvatar,src:l.photoURL,alt:"photo user"}),Object(n.jsx)(I.a,{value:"exit",color:"inherit",onClick:c,children:"exit"})]}):Object(n.jsxs)("div",{children:[" ",Object(n.jsx)("div",{children:Object(n.jsx)(I.a,{variant:"contained",color:"primary",onClick:function(){_(!0)},children:"Enter/Register"})}),Object(n.jsxs)(L.a,{className:e.dialog,onClose:M,"aria-labelledby":"simple-dialog-title",open:C,children:[" ",Object(n.jsx)(A.a,{className:e.icon,onClick:M}),Object(n.jsx)(z.a,{id:"simple-dialog-title",children:" Register"}),Object(n.jsxs)("form",{className:e.form,children:[Object(n.jsx)(T.a,{className:e.typography,children:p}),Object(n.jsx)(S.a,{className:e.input,id:"outlined-Email-input",label:"email",value:v.email,type:"Email",autoComplete:"current-password",variant:"outlined",onChange:D,color:"secondary"}),Object(n.jsx)(S.a,{className:e.input,id:"outlined-password-input",label:"password",value:v.password,type:"password",autoComplete:"current-password",variant:"outlined",onChange:D,color:"secondary"}),Object(n.jsxs)("div",{className:e.blockButton,children:[" ",Object(n.jsx)(I.a,{className:e.button,type:"submit",value:"login",variant:"contained",color:"primary",onClick:function(e){e.preventDefault();var t=v.email,a=v.password;m.signInWithEmailAndPassword(t,a).then((function(e){k({email:"",password:""}),O(e.user.email),localStorage.setItem("LOGIN_USER",JSON.stringify({id:e.user.uid,localId:e.user.l,email:e.user.email})),i(),r&&R()})).catch((function(e){var t=e.message;O(t)}))},children:"Login"}),Object(n.jsx)(I.a,{className:e.button,type:"submit",value:"signIn",variant:"contained",color:"primary",onClick:function(e){e.preventDefault();var t=v.email,a=v.password;console.log(v),m.createUserWithEmailAndPassword(t,a).then((function(e){i(),console.log("login user",e.user),k({email:"",password:""}),localStorage.setItem("LOGIN_USER",JSON.stringify({id:e.user.uid,localId:e.user.l,email:e.user.email})),O(e.user.email),R()})).catch((function(e){var t=e.message;console.log(t),O(t)}))},children:"Sign\xa0Up"})]}),Object(n.jsx)(U.a,{className:e.button,onClick:function(){!function(){var e=new h.auth.GoogleAuthProvider;m.signInWithPopup(e).then((function(e){e.credential.accessToken;var t=e.user;R(),k({email:"",password:""}),O(t.email,t.displayName)})).catch((function(e){e.code,e.message,e.email,e.credential})),console.log("auth with gogle")}()}})]})]})]})})},D=a(37),R=a(29),B=a(6),W=a(209),G=a(192),P=a(193),J=a(190),F=a(191),Z=a(195),V=a(194),K=a(98),q=a.n(K),H=a(100),$=a.n(H),Q=a(99),Y=a.n(Q),X=a(196),ee=a(197),te=a(198),ae=a(101),ne=a.n(ae),se=240,re=Object(N.a)((function(e){return{root:{display:"flex"},flexGrow:{flexGrow:1},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(se,"px)"),marginLeft:se,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:se,flexShrink:0},drawerPaper:{width:se},drawerHeader:Object(o.a)(Object(o.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}})),ie=[{title:"home",link:"/"},{title:"users",link:"/users"},{title:"about",link:"/about"}],ce=function(){var e=re(),t=Object(R.a)(),a=x().authInfo,s=r.a.useState(!1),i=Object(u.a)(s,2),c=i[0],o=i[1],l=function(){o(!1)};return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(F.a,{}),Object(n.jsx)(G.a,{position:"fixed",className:Object(B.a)(e.appBar,Object(d.a)({},e.appBarShift,c)),children:Object(n.jsxs)(P.a,{children:[Object(n.jsx)(V.a,{color:"inherit","aria-label":"open drawer",onClick:function(){o(!0)},edge:"start",className:Object(B.a)(e.menuButton,c&&e.hide),children:Object(n.jsx)(q.a,{})}),Object(n.jsx)(T.a,{className:e.flexGrow,variant:"h6",noWrap:!0,children:"Menu"}),Object(n.jsx)(M,{})]})}),Object(n.jsxs)(W.a,{className:e.drawer,variant:"persistent",anchor:"left",open:c,classes:{paper:e.drawerPaper},children:[Object(n.jsx)("div",{className:e.toolbar,children:Object(n.jsx)(V.a,{onClick:l,children:"rtl"===t.direction?Object(n.jsx)(Y.a,{}):Object(n.jsx)($.a,{})})}),Object(n.jsx)(Z.a,{}),Object(n.jsxs)(J.a,{children:[ie.map((function(t,a){return Object(n.jsxs)(X.a,{button:!0,children:[Object(n.jsx)(ee.a,{children:Object(n.jsx)(D.b,{onClick:l,exact:!0,to:t.link,className:e.link,children:Object(n.jsx)(ne.a,{})})}),Object(n.jsx)(te.a,{primary:t.title})]},a)})),"ar2szFVDDUZ4vEKla7r0lQqxve13"===a.uid?Object(n.jsx)(D.b,{onClick:l,exact:!0,to:"/admin",className:e.link,children:Object(n.jsx)(te.a,{primary:"ADMIN"})}):null]})]})]})},oe=a(200),le=a(204),ue=a(203),de=a(199),je=a(201),be=a(202),pe=a(108),me=Object(N.a)((function(e){var t;return{table:{marginTop:150},th:(t={},Object(d.a)(t,e.breakpoints.up("xs"),{fontSize:".7rem",padding:"5px"}),Object(d.a)(t,e.breakpoints.up("sm"),{padding:"10px"}),Object(d.a)(t,e.breakpoints.up("md"),{fontSize:"1rem",padding:"16px"}),t)}}));function he(e){var t=e.users,a=me();return Object(n.jsx)(de.a,{component:pe.a,children:Object(n.jsxs)(oe.a,{className:a.table,"aria-label":"simple table",children:[Object(n.jsx)(je.a,{children:Object(n.jsxs)(be.a,{children:[Object(n.jsx)(ue.a,{className:a.th,children:"All Users"}),Object(n.jsx)(ue.a,{className:a.th,align:"right",children:"tasks"}),Object(n.jsx)(ue.a,{className:a.th,align:"right",children:"date registrashion"})]})}),Object(n.jsx)(le.a,{children:t.map((function(e){return Object(n.jsxs)(be.a,{children:[Object(n.jsx)(ue.a,{className:a.th,component:"th",scope:"row",children:e.user_name}),Object(n.jsx)(ue.a,{className:a.th,align:"right",children:e.countTask}),Object(n.jsx)(ue.a,{className:a.th,align:"right",children:e.time})]},Object(j.a)())}))})]})})}var Oe=a(76),xe=a.n(Oe),fe=a(102),ge=a.n(fe),ve=Object(N.a)((function(e){var t,a,n;return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap"},navLink:{display:"flex",flexGrow:1,justifyContent:" space - between",textAlign:"center",textDecoration:" none"},button:(t={},Object(d.a)(t,e.breakpoints.up("xs"),{margin:8,fontSize:".7rem"}),Object(d.a)(t,e.breakpoints.up("sm"),{margin:8,fontSize:".9rem"}),Object(d.a)(t,e.breakpoints.up("md"),{margin:8,fontSize:"1rem"}),t),divMedia:(a={},Object(d.a)(a,e.breakpoints.up("xs"),{margin:8,fontSize:".7rem",width:"100%",textAlign:"center"}),Object(d.a)(a,e.breakpoints.up("sm"),{margin:8,width:"20%",fontSize:".9rem",textAlign:"right"}),Object(d.a)(a,e.breakpoints.up("md"),{margin:8,fontSize:"1rem"}),a),icon:{fontSize:"2rem"},item:{flex:"0 auto"},ListItemText:{marginLeft:"auto","& span":(n={},Object(d.a)(n,e.breakpoints.up("xs"),{margin:8,fontSize:".5rem"}),Object(d.a)(n,e.breakpoints.up("sm"),{margin:8,fontSize:".7rem"}),Object(d.a)(n,e.breakpoints.up("md"),{margin:8,fontSize:".8rem"}),n)}}}));var ke=function(e){var t=e.users,a=e.deleteUser,s=ve();return t.map((function(e,t){var r;return Object(n.jsxs)("div",{children:[Object(n.jsxs)(X.a,{button:!0,className:s.root,children:[Object(n.jsxs)(D.b,{className:s.navLink,to:"/users/"+e.id_user,children:[Object(n.jsx)(te.a,{className:s.item,primary:t+1}),"\u2003",Object(n.jsx)(ge.a,{className:s.icon}),"\u2003",Object(n.jsx)(te.a,{primary:null===e||void 0===e?void 0:e.user_name}),Object(n.jsx)(te.a,{primary:null===e||void 0===e||null===(r=e.tasks)||void 0===r?void 0:r.length}),Object(n.jsx)(te.a,{className:s.ListItemText,primary:e.time})]}),Object(n.jsx)("div",{className:s.divMedia,children:Object(n.jsx)(I.a,{onClick:function(){a(t,e.id_user)},variant:"contained",color:"secondary",className:s.button,startIcon:Object(n.jsx)(xe.a,{}),children:"Delete"})})]}),Object(n.jsx)(Z.a,{})]},Object(j.a)())}))},ye=a(208),we=a(103),Se=a.n(we),Ne=Object(N.a)((function(e){var t,a;return{Alert:{marginTop:70,"& div":{display:"flex",alignItems:"center"}},root:{display:"flex",justifyContent:"center",flexWrap:"wrap"},textField:(t={},Object(d.a)(t,e.breakpoints.up("xs"),{width:"100%",margin:8}),Object(d.a)(t,e.breakpoints.up("sm"),{width:"80%",margin:8}),Object(d.a)(t,e.breakpoints.up("md"),{width:"80%",margin:8}),t),button:(a={},Object(d.a)(a,e.breakpoints.up("xs"),{fontSize:".7rem",margin:4}),Object(d.a)(a,e.breakpoints.up("sm"),{fontSize:"0.7rem",margin:e.spacing(1)}),Object(d.a)(a,e.breakpoints.up("md"),{fontSize:"1rem",margin:e.spacing(1)}),a),error:{"&& label":{color:"red"}}}})),Ie=function(e){var t=v(),a=t.valueInput,s=t.handleUserInput,r=t.errorMessage,i=Ne(),c=[i.textField],o=r||"Enter user";return!a.validate&&a.touched?c.push(i.error):c.push(""),Object(n.jsxs)("div",{className:i.header,children:[Object(n.jsxs)(ye.a,{icon:!1,severity:"info",className:i.Alert,children:[Object(n.jsx)("span",{children:Object.keys(e.users).length}),"\u2003",Object(n.jsx)(Se.a,{})," \u2003",0!==Object.keys(e.users).length?Object(n.jsx)("p",{children:" \u2003ALL USERS\u2003"}):Object(n.jsxs)(n.Fragment,{children:["\u2003",Object(n.jsx)("span",{children:"NOT USER"}),"\u2003"]}),a.value.length>3?Object(n.jsxs)("span",{children:["User name\u2003",a.value]}):Object(n.jsx)("span",{children:"Enter name more 3 letters"})]}),Object(n.jsxs)("div",{className:i.root,children:[Object(n.jsx)(S.a,{value:a.value,onChange:s,onKeyUp:e.keyHandle,id:"standard-full-width",label:o,className:c.join(" "),placeholder:"name user",helperText:"",margin:"normal",InputLabelProps:{shrink:!0},type:"text"}),Object(n.jsx)(I.a,{onClick:e.addNewUser,variant:"contained",className:i.button,children:"ADD\xa0USER"})]}),Object(n.jsx)(J.a,{children:Object(n.jsx)(ke,{users:e.users,deleteUser:e.deleteUser})})]})},Te=a(105),Ce=a.n(Te),Ue=a(104),_e=a.n(Ue),Ae=Object(N.a)((function(e){return{root:{position:"fixed",width:"300px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",display:"flex",justifyContent:"space-between",flexDirection:"column",borderRadius:"5px",border:"1px solid #a58e8eb5",boxShadow:"0px 1px 3px 0px",padding:"10px"},headerButton:{display:"flex",justifyContent:"space-between",alignItems:"center"},hideModal:{display:"none"},textField:{width:"70%"}}})),ze=function(e){var t=e.props,a=e.show,r=e.closeModal,i=v(),c=i.valueTodo,o=(i.handleUserInput,i.changeTitlebyModal),l=(i.errorMessage,Ae()),u=Object(s.useRef)();return Object(n.jsxs)("div",{className:a?l.root:l.hideModal,children:[Object(n.jsxs)("div",{className:l.headerButton,children:[Object(n.jsxs)(T.a,{className:l.typography,children:[t.id+1,"new task:",t.value]}),Object(n.jsx)(V.a,{"aria-label":"close",onClick:r,children:Object(n.jsx)(A.a,{})})]}),Object(n.jsxs)(T.a,{className:l.typography,children:["old task:",t.title]}),Object(n.jsx)("form",{children:Object(n.jsxs)("div",{className:l.headerButton,children:[Object(n.jsx)(S.a,{ref:u,label:"props task",className:l.textField,placeholder:"edit task",helperText:"",margin:"normal",InputLabelProps:{shrink:!0},type:"text",value:c.value,onChange:function(e){o(e,u)},children:" "}),Object(n.jsx)(V.a,{onClick:function(){t.editTask(t.id_user,t.id_task)},"aria-label":"enter",children:Object(n.jsx)(_e.a,{})})]})})]})},Le=Object(N.a)((function(e){var t,a,n;return{root:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},header:{marginTop:70},typography:(t={},Object(d.a)(t,e.breakpoints.up("xs"),{margin:8,fontSize:".7rem"}),Object(d.a)(t,e.breakpoints.up("sm"),{margin:8,fontSize:".9rem"}),Object(d.a)(t,e.breakpoints.up("md"),{margin:8,fontSize:"1rem"}),t),boxButton:(a={},Object(d.a)(a,e.breakpoints.up("xs"),{margin:8,fontSize:".5rem",width:"100%",display:"flex",justifyContent:"space-between"}),Object(d.a)(a,e.breakpoints.up("sm"),{margin:8,fontSize:".7rem",width:"100%",textAlign:"right"}),Object(d.a)(a,e.breakpoints.up("md"),{margin:8,fontSize:"1rem",width:"25%",display:"flex"}),a),button:(n={},Object(d.a)(n,e.breakpoints.up("xs"),{fontSize:".5rem"}),Object(d.a)(n,e.breakpoints.up("sm"),{fontSize:".7rem"}),Object(d.a)(n,e.breakpoints.up("md"),{fontSize:"1rem"}),n),form:{position:"fixed",width:"200px",height:"200px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"flex",justifyContent:"space-between"}}}));function Ee(e){console.log("list");var t=v().valueTodo,a=Le(),r=Object(s.useState)(t.showModal),i=Object(u.a)(r,2),c=i[0],o=i[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(X.a,{className:a.root,children:[Object(n.jsxs)(T.a,{className:a.typography,children:[e.id+1,"\u2003",e.title]}),Object(n.jsx)(T.a,{className:a.typography,children:e.time}),Object(n.jsxs)("div",{className:a.boxButton,children:[Object(n.jsx)(I.a,{onClick:function(){o(!0)},variant:"contained",className:a.button,startIcon:Object(n.jsx)(Ce.a,{}),children:"edit"}),Object(n.jsxs)(I.a,{onClick:function(){e.deleteTask(e.id_user,e.id_task,e.id)},variant:"contained",color:"secondary",startIcon:Object(n.jsx)(xe.a,{}),className:a.button,children:[" ","DELL"]})]})]}),Object(n.jsx)(ze,{props:e,show:c,closeModal:function(){console.log("===============showModal"),o(!1)}}),Object(n.jsx)(Z.a,{})]})}var Me=a(106),De=a.n(Me),Re=Object(N.a)((function(e){var t,a;return{navLink:{},Alert:{display:"flex",justifyContent:"space-between",marginTop:70,"& div":{display:"flex",width:"50%",alignItems:"center",justifyContent:"space-between"}},root:{display:"flex",justifyContent:"center",flexWrap:"wrap"},textField:(t={},Object(d.a)(t,e.breakpoints.up("xs"),{width:"100%",margin:8}),Object(d.a)(t,e.breakpoints.up("md"),{width:"85%",margin:8}),t),button:(a={},Object(d.a)(a,e.breakpoints.up("xs"),{fontSize:".7rem"}),Object(d.a)(a,e.breakpoints.up("md"),{fontSize:"1rem",margin:e.spacing(1)}),a),error:{"&& label":{color:"red"}}}})),Be=function(e){var t=v(),a=t.valueInputTask,s=t.handleUserInputTask,r=t.errorMessage,i=Re(),c=[i.textField],o=r||"Enter user";!a.validate&&a.touched?c.push(i.error):c.push("");var l,u;return console.log("==============UserPersonalTasks render user tasks"),e.users.length&&(void 0===(u=e.users.find((function(t){return t.id_user===e.history.match.params.id}))).tasks&&(u.tasks=[]),l=u.tasks.map((function(t,a){return Object(n.jsx)(Ee,{id:a,id_user:e.history.match.params.id,id_task:t.id_task,value:e.valueTodo,title:t.title,time:t.time_task,editTask:e.editTask,deleteTask:e.deleteTask},Object(j.a)())}))),console.log(l),Object(n.jsxs)("div",{className:i.header,children:[Object(n.jsxs)(ye.a,{icon:!1,severity:"info",className:i.Alert,children:[Object(n.jsx)(D.b,{className:i.navLink,to:"/users/",children:Object(n.jsx)(V.a,{children:Object(n.jsx)(De.a,{})})}),void 0===l?Object(n.jsx)("p1",{children:"at firs add user"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("p",{children:u.user_name}),"\xa0",Object(n.jsxs)("p",{children:["tasks \xa0",u.tasks.length]})]})]}),Object(n.jsxs)("div",{className:i.root,children:[Object(n.jsx)(S.a,Object(d.a)({id:"standard-full-width",label:o,className:i.textField,placeholder:"name task",helperText:"",margin:"normal",InputLabelProps:{shrink:!0},type:"text",value:a.value,onKeyUp:function(t){e.keyHandle(t,e.history.match.params.id,u.tasks.length)},onChange:s},"type","text")),Object(n.jsx)(I.a,{onClick:function(){e.addTodoTaskUser(e.history.match.params.id,u.tasks.length)},disabled:0===e.users.length,variant:"contained",className:i.button,children:"ADD\xa0TASK"})]}),Object(n.jsxs)(J.a,{children:[l," "]})]})},We=a(205),Ge=Object(N.a)((function(e){return{root:{marginTop:130},MuiAlertTitleRoot:{marginTop:0}}}));function Pe(e){var t=e.message,a=Ge();return Object(n.jsx)("div",{className:a.root,children:Object(n.jsx)(ye.a,{severity:"info",children:Object(n.jsxs)(We.a,{className:a.MuiAlertTitleRoot,children:[" ",t]})})})}function Je(){return Object(n.jsx)("div",{className:"admin",children:"admin"})}var Fe=Object(N.a)((function(e){var t;return{root:(t={},Object(d.a)(t,e.breakpoints.up("xs"),{maxWidth:"400px",paddingLeft:"0px",paddingRight:"0px"}),Object(d.a)(t,e.breakpoints.up("sm"),{maxWidth:" 600px"}),Object(d.a)(t,e.breakpoints.up("md"),{maxWidth:" 960px"}),t),h3:{marginTop:150,marginLeft:30}}}));var Ze=function(){var e=Fe(),t=x().authInfo,a=v(),r=a.valueInput,i=a.valueInputTask,c=a.valueTodo,d=a.setValue,b=a.setValueInputTask,m=a.setValueTodor,h=a.setErrorMessage,O=JSON.parse(localStorage.getItem("users"))||[],f=["\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0438 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0437\u0430\u043c\u0435\u0442\u043e\u043a","At First You need to LOGIN or Register"],g=Object(s.useState)(O),k=Object(u.a)(g,2),S=k[0],N=k[1];Object(s.useEffect)((function(){console.log("app useEffect",t);!function(e){var a=Object(l.a)(S);p.ref().on("value",(function(e){if(e.val()){var n=Object.values(e.val()).reduce((function(e,t){for(var a in t)e.push(t[a]);return e}),[]);if(t.displayName){var s={id_user:t.uid,time:(new Date).toString().split("G")[0],user_name:t.displayName,completed:!1,tasks:[],countTask:0};n.push(s)}var r=a.concat(n).filter((function(e,t,a){return t===a.findIndex((function(t){return t.id_user===e.id_user}))}));console.log(r),localStorage.setItem("users",JSON.stringify(r)),N(r)}else if(t){var i=Object(l.a)(S),c={id_user:t.uid,time:(new Date).toString().split("G")[0],user_name:t.displayName,completed:!1,tasks:[],countTask:0};i.push(c);var o=i.filter((function(e,t,a){return t===a.findIndex((function(t){return t.id_user===e.id_user}))}));localStorage.setItem("users",JSON.stringify(o)),N(o)}}))}()}),[t]);var I=function(e){p.ref("users/"+e.id_user).set(e).then((function(e){}))},T=function(){if(console.log(" function addNewUser"),r.value.length>3){var e={id_user:Object(j.a)(),time:(new Date).toString().split("G")[0],user_name:r.value,completed:!1,tasks:[],countTask:0},t=Object(l.a)(S);t.push(e);var a=t.filter((function(e,t,a){return t===a.findIndex((function(t){return t.id_user===e.id_user}))}));localStorage.setItem("users",JSON.stringify(a)),N(a),d(Object(o.a)(Object(o.a)({},r),{},{value:""})),I(e),h("")}},C=function(e){13===e.keyCode&&T()},U=function(e,t,a){13===e.keyCode&&_(t,a)},_=function(e,t){if(console.log(i.value.length>3),i.value.length>3){Object(l.a)(S);var a=Object.assign([],S),n=a.find((function(t,a){return t.id_user===e}));n.countTask=t+1;var s=Object(l.a)(n.tasks),r=new Date;s.push({id_task:(new Date).getTime()+1,title:i.value,time_task:"".concat((new Date).toLocaleDateString()," :").concat(r.getHours(),":").concat(r.getMinutes())}),n.tasks=s,a.push(n);var c=a.filter((function(e,t,a){return t===a.findIndex((function(t){return t.id_user===e.id_user}))}));N(c),localStorage.setItem("users",JSON.stringify(c)),b(Object(o.a)(Object(o.a)({},i),{},{value:""})),h(""),I(n)}else h("\u0432\u0435\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0443 \u0431\u043e\u043b\u044c\u0448\u0435 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")},A=function(e,t){if(console.log(c.showModal),c.validate){var a=Object(l.a)(S),n=a.find((function(t){return t.id_user===e})),s=Object(l.a)(n.tasks);s.map((function(e){return e.id_task===t&&(e.title=c.value),e})),n.tasks=s,a.map((function(t){return e===t.id_user&&(t=n),t})),N(a),localStorage.setItem("users",JSON.stringify(a)),m({value:"",validate:!1,showModal:!1}),I(n)}},z=function(e,t){var a,n=Object(l.a)(S);n.splice(e,1),localStorage.setItem("users",JSON.stringify(n)),a=t,console.log(a),p.ref("users").child(a).remove(),N(n)},L=function(e,t,a){var n=Object(l.a)(S),s=n.find((function(t){return t.id_user===e}));s.tasks.splice(a,1),n.push(s),console.log(n);var r=n.filter((function(e,t){return n.indexOf(e)===t}));I(s),N(r),localStorage.setItem("users",JSON.stringify(r))};return console.log(S),Object(n.jsxs)(w.a,{className:e.root,children:[Object(n.jsx)(ce,{}),Object(n.jsxs)(y.d,{children:[Object(n.jsx)(y.b,{exact:!0,path:"/",render:function(){return Object(n.jsx)(he,{users:S})}}),"ar2szFVDDUZ4vEKla7r0lQqxve13"===t.uid?Object(n.jsx)(y.b,{path:"/admin",render:function(){return Object(n.jsx)(Je,{})}}):null,Object(n.jsx)(y.b,{exact:!0,path:"/users",render:function(){return Object(n.jsx)(Ie,{addNewUser:T,keyHandle:C,users:S,deleteUser:z,props:S})}}),Object(n.jsx)(y.b,{path:"/users/:id",render:function(e){return Object(n.jsx)(Be,{valueTodo:c.value,history:e,users:S,keyHandle:U,addTodoTaskUser:_,editTask:A,deleteTask:L})}}),Object(n.jsx)(y.b,{path:"/about",render:function(){return Object(n.jsx)(Pe,{message:f[0]})}}),Object(n.jsx)(y.a,{to:"/"})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ve=Object(n.jsx)(k,{children:Object(n.jsx)(f,{children:Object(n.jsx)(D.a,{children:Object(n.jsx)(Ze,{})})})});c.a.render(Ve,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,t,a){}},[[135,1,2]]]);
//# sourceMappingURL=main.bb15945f.chunk.js.map