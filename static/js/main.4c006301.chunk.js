(this["webpackJsonptodo-firebase"]=this["webpackJsonptodo-firebase"]||[]).push([[0],{112:function(e,t,a){},117:function(e,t,a){},123:function(e,t,a){"use strict";a.r(t);var n=a(4),s=a(1),r=a.n(s),i=a(15),c=a.n(i),o=(a(112),a(49)),l=a(76),u=a.n(l),d=a(35),j=a(89),b=a(43),p=a(11),m=a(70),O=a(18),h=a(175),x=(a(117),a(48)),f=a(160),g=a(26),k=a(6),v=a(179),y=a(165),S=a(166),w=a(169),N=a(163),T=a(58),I=a(168),z=a(167),U=a(93),_=a.n(U),F=a(95),C=a.n(F),D=a(94),L=a.n(D),B=a(170),J=a(171),A=a(172),H=a(96),E=a.n(H),W=240,M=Object(f.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(W,"px)"),marginLeft:W,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:W,flexShrink:0},drawerPaper:{width:W},drawerHeader:Object(o.a)(Object(o.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}})),P=[{title:"home",link:"/"},{title:"users",link:"/users"},{title:"about",link:"/about"}],R=function(){var e=M(),t=Object(g.a)(),a=r.a.useState(!1),s=Object(b.a)(a,2),i=s[0],c=s[1];return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(N.a,{}),Object(n.jsx)(y.a,{position:"fixed",className:Object(k.a)(e.appBar,Object(p.a)({},e.appBarShift,i)),children:Object(n.jsxs)(S.a,{children:[Object(n.jsx)(z.a,{color:"inherit","aria-label":"open drawer",onClick:function(){c(!0)},edge:"start",className:Object(k.a)(e.menuButton,i&&e.hide),children:Object(n.jsx)(_.a,{})}),Object(n.jsx)(T.a,{variant:"h6",noWrap:!0,children:"Menu"})]})}),Object(n.jsxs)(v.a,{className:e.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:e.drawerPaper},children:[Object(n.jsx)("div",{className:e.toolbar,children:Object(n.jsx)(z.a,{onClick:function(){c(!1)},children:"rtl"===t.direction?Object(n.jsx)(L.a,{}):Object(n.jsx)(C.a,{})})}),Object(n.jsx)(I.a,{}),Object(n.jsx)(w.a,{children:P.map((function(t,a){return Object(n.jsxs)(B.a,{button:!0,children:[Object(n.jsx)(J.a,{children:Object(n.jsx)(x.b,{exact:!0,to:t.link,className:e.link,children:Object(n.jsx)(E.a,{})})}),Object(n.jsx)(A.a,{primary:t.title})]},a)}))})]})]})},q=Object(f.a)((function(e){return{root:{marginTop:70}}}));function K(){var e=q();return Object(n.jsx)("h1",{className:e.root,children:"home page"})}var G=a(176),Z=a(173),Q=a(177),Y=a(69),$=a.n(Y),V=a(97),X=a.n(V),ee=Object(f.a)((function(e){var t;return{navLink:{display:"flex",flexGrow:1,justifyContent:" space - between",textAlign:"center",textDecoration:" none"},button:{margin:8},li:{display:"flex",justifyContent:"space-between",textAlign:"center"},icon:{fontSize:"2rem"},item:{flex:"0 auto"},textField:(t={},Object(p.a)(t,e.breakpoints.up("xs"),{margin:8,fontSize:".7rem"}),Object(p.a)(t,e.breakpoints.up("sm"),{margin:8,fontSize:".9rem"}),Object(p.a)(t,e.breakpoints.up("md"),{margin:8,fontSize:"1rem"}),t)}}));var te=function(e){var t=e.users,a=e.deleteUser;console.log(t);var s=ee();return t.map((function(e,t){return Object(n.jsxs)("div",{children:[Object(n.jsxs)(B.a,{button:!0,children:[Object(n.jsxs)(x.b,{className:s.navLink,to:"/users/"+parseInt(e.id_user),children:[Object(n.jsx)(A.a,{className:s.item,primary:t+1}),Object(n.jsx)(X.a,{className:s.icon}),Object(n.jsx)(A.a,{className:s.textField,primary:e.user_name}),Object(n.jsx)(A.a,{className:s.textField,primary:e.countTask}),Object(n.jsx)(A.a,{className:s.textField,primary:e.time})]}),Object(n.jsx)(Z.a,{onClick:function(){a(t)},variant:"contained",color:"secondary",className:s.button,startIcon:Object(n.jsx)($.a,{}),children:"Delete"})]},t),Object(n.jsx)(I.a,{})]},t)}))},ae=a(98),ne=a.n(ae),se=Object(f.a)((function(e){var t,a;return{root:{display:"flex",justifyContent:"space-between"},header:{marginTop:70},textField:(t={},Object(p.a)(t,e.breakpoints.up("xs"),{width:"90%",margin:8}),Object(p.a)(t,e.breakpoints.up("sm"),{width:"90%",margin:8}),Object(p.a)(t,e.breakpoints.up("md"),{width:"90%",margin:8}),t),button:(a={},Object(p.a)(a,e.breakpoints.up("xs"),{fontSize:".7rem",margin:e.spacing(1)}),Object(p.a)(a,e.breakpoints.up("sm"),{fontSize:"0.7rem",margin:e.spacing(1)}),Object(p.a)(a,e.breakpoints.up("md"),{fontSize:"1rem",margin:e.spacing(1)}),a)}}));var re=function(e){var t=se();return console.log("================render ===== users",e.users),Object(n.jsxs)("div",{className:t.header,children:[Object(n.jsxs)(Q.a,{icon:!1,severity:"info",className:t.root,children:[Object(n.jsx)(ne.a,{})," \xa0",0!==Object.keys(e.users).length?Object(n.jsxs)(n.Fragment,{children:["\xa0 ",Object(n.jsx)("p",{children:"all users"})," \xa0 \xa0",Object(n.jsx)("span",{children:Object.keys(e.users).length})]}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("span",{children:"not users add user"})})]}),Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(G.a,{value:e.value,onChange:function(t){e.changeTitle(t.target.value)},onKeyUp:e.keyHandle,id:"standard-full-width",label:"Enter user",className:t.textField,placeholder:"name user",helperText:"",margin:"normal",InputLabelProps:{shrink:!0},type:"text"}),Object(n.jsx)(Z.a,{onClick:e.addUser,variant:"contained",className:t.button,children:"ADD USER"})]}),Object(n.jsx)(w.a,{children:Object(n.jsx)(te,{users:e.users,deleteUser:e.deleteUser})})]})};var ie=a(99),ce=a.n(ie),oe=Object(f.a)((function(e){var t,a;return{root:{display:"flex",justifyContent:"space-between"},header:{marginTop:70},textField:(t={},Object(p.a)(t,e.breakpoints.up("xs"),{margin:8,fontSize:".7rem"}),Object(p.a)(t,e.breakpoints.up("sm"),{margin:8,fontSize:".9rem"}),Object(p.a)(t,e.breakpoints.up("md"),{margin:8,fontSize:"1rem"}),t),button:(a={},Object(p.a)(a,e.breakpoints.up("xs"),{margin:8,fontSize:".7rem"}),Object(p.a)(a,e.breakpoints.up("sm"),{margin:8}),Object(p.a)(a,"margin",e.spacing(1)),a)}}));function le(e){var t=oe(),a=Object(s.useState)(!1),r=Object(b.a)(a,2),i=r[0],c=r[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(B.a,{className:t.root,children:[Object(n.jsx)(T.a,{className:t.textField,children:e.id+1}),Object(n.jsx)(T.a,{className:t.textField,children:e.title}),Object(n.jsx)(T.a,{className:t.textField,children:e.time}),Object(n.jsxs)("div",{children:[Object(n.jsx)(Z.a,{onClick:function(){c(!i)},variant:"contained",className:t.button,startIcon:Object(n.jsx)(ce.a,{}),children:"edit"}),Object(n.jsxs)(Z.a,{onClick:function(){e.deleteTask(e.id_user,e.id_task,e.id)},variant:"contained",color:"secondary",startIcon:Object(n.jsx)($.a,{}),className:t.button,children:[" ","DELL"]})]})]}),Object(n.jsx)(I.a,{})]})}var ue=Object(f.a)((function(e){var t,a;return{root:{display:"flex",justifyContent:"space-between"},header:{marginTop:70},textField:(t={},Object(p.a)(t,e.breakpoints.up("xs"),{width:"85%",margin:8}),Object(p.a)(t,e.breakpoints.up("sm"),{width:"85%",margin:8}),Object(p.a)(t,e.breakpoints.up("md"),{width:"85%",margin:8}),t),button:(a={},Object(p.a)(a,e.breakpoints.up("xs"),{fontSize:".7rem"}),Object(p.a)(a,e.breakpoints.up("sm"),{fontSize:"0.7rem"}),Object(p.a)(a,e.breakpoints.up("md"),{fontSize:"1rem",margin:e.spacing(1)}),a)}})),de=function(e){var t,a,s=ue();return console.log("==============UserPersonalTasks render user tasks",e),e.users.length&&(void 0===(a=e.users.find((function(t){return t.id_user===parseInt(e.history.match.params.id)}))).tasks&&(a.tasks=[]),t=a.tasks.map((function(t,a){return Object(n.jsx)(le,{id:a,id_user:parseInt(e.history.match.params.id),id_task:t.id_task,value:e.valueTodo,title:t.title,time:t.time_task,editTask:e.editTask,changeTitlebyModal:e.changeTitlebyModal,deleteTask:e.deleteTask},a)}))),Object(n.jsxs)("div",{className:s.header,children:[Object(n.jsxs)(Q.a,{icon:!1,severity:"info",className:s.root,children:[" ",void 0===t?Object(n.jsx)("h1",{children:"at firs add user"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{children:a.user_name}),"\xa0",Object(n.jsxs)("h3",{children:["tasks \xa0",a.tasks.length]})]})]}),Object(n.jsxs)("div",{className:s.root,children:[Object(n.jsx)(G.a,Object(p.a)({id:"standard-full-width",label:"Enter task",className:s.textField,placeholder:"name task",helperText:"",margin:"normal",InputLabelProps:{shrink:!0},type:"text",value:e.valueUser,onKeyUp:function(t){e.keyHandle(t,parseInt(e.history.match.params.id),a.tasks.length)},onChange:function(t){e.changeTitleUserTask(t.target.value)}},"type","text")),Object(n.jsx)(Z.a,{onClick:function(){e.addTodoTaskUser(parseInt(e.history.match.params.id),a.tasks.length)},disabled:0===e.users.length,variant:"contained",className:s.button,children:"ADD TASK"})]}),Object(n.jsxs)(w.a,{children:[t," "]})]})},je=a(174),be=Object(f.a)((function(e){return{root:{marginTop:70}}}));function pe(e){var t=be();return Object(n.jsx)("div",{className:t.root,children:Object(n.jsxs)(Q.a,{severity:"info",children:[Object(n.jsx)(je.a,{}),"\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0438 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0437\u0430\u043c\u0435\u0442\u043e\u043a \xa0 \xa0",Object(n.jsx)("strong",{children:"\u0432\u0435\u0440\u0441\u0438\u044f \xa01.1.1"})]})})}var me=Object(f.a)((function(e){var t;return{root:(t={},Object(p.a)(t,e.breakpoints.up("xs"),{maxWidth:"400px",paddingLeft:"0px",paddingRight:"0px"}),Object(p.a)(t,e.breakpoints.up("sm"),{maxWidth:" 600px"}),Object(p.a)(t,e.breakpoints.up("md"),{maxWidth:" 960px"}),t)}}));var Oe=function(){var e=me(),t=JSON.parse(localStorage.getItem("users"))||[],a=Object(s.useState)(t),r=Object(b.a)(a,2),i=r[0],c=r[1],l=Object(s.useState)({value:""}),p=Object(b.a)(l,2),x=p[0],f=p[1],g=Object(s.useState)({value:""}),k=Object(b.a)(g,2),v=k[0],y=k[1];Object(s.useEffect)((function(){console.log("use effect"),S()}),[]);var S=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-quize-46f17.firebaseio.com/users.json");case 2:if(a=e.sent,n=Object(d.a)(i),console.log(n),!a.ok){e.next=11;break}return e.next=8,a.json();case 8:s=e.sent,console.log("getUsersFromFairbase",s),null!==s&&Object.values(s).forEach((function(e){n.push(e)}));case 11:r=n.filter((function(e,t,a){return t===a.findIndex((function(t){return e.id_user===t.id_user}))})),console.log(r),localStorage.setItem("users",JSON.stringify(r)),c(r);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){m.a.database().ref("users/"+e.id_user).set(e)},N=function(){console.log("adduser");var e={id_user:Date.now()+1,time:(new Date).toString().split("G")[0],user_name:x.value,completed:!1,tasks:[],countTask:0};if(x.value.length>2){var t=Object(d.a)(i);t.push(e),localStorage.setItem("users",JSON.stringify(t)),c(t),f({value:""}),w(e)}},T=function(e){console.log("vlaue",e),f({value:e})},I=function(e){y({value:e})},z=function(e){console.log("keyHandle"),13===e.keyCode&&x.value.length>2&&N()},U=function(e,t,a){console.log("keyHandleInputTask",t,a),13===e.keyCode&&x.value.length>2&&_(t,a)},_=function(e,t){if(console.log("ddTodoTaskUser"),x.value.length>2){var a=Object(d.a)(i),n=a.find((function(t,a){return t.id_user===e}));n.countTask=t+1;var s=Object(d.a)(n.tasks),r=new Date;s.push({id_task:(new Date).getTime()+1,title:x.value,time_task:"".concat((new Date).toLocaleDateString()," :").concat(r.getHours(),":").concat(r.getMinutes())}),n.tasks=s,c(a),localStorage.setItem("users",JSON.stringify(a)),f({value:""}),w(n),console.log("user===================",n),console.log("user===================",a)}},F=function(e,t){console.log(e,t);var a=Object(d.a)(i),n=Object(o.a)({},a[e]),s=Object(d.a)(a[e].tasks);console.log(s);var r=s.map((function(e){return e.id_task===t&&(e.title=v.value),e}));s=r,n.tasks=s,a[e]=n,c(Object(o.a)({},a)),localStorage.setItem("users",JSON.stringify(Object(o.a)({},a))),y({value:""})},C=function(e){var t=Object(d.a)(i);t.splice(e,1),c(t),w(t),localStorage.setItem("users",JSON.stringify(t))},D=function(e,t,a){console.log(a);var n=Object(d.a)(i),s=n.find((function(t){return t.id_user===e}));s.tasks.splice(a,1),n.push(s);var r=n.filter((function(e,t){return n.indexOf(e)===t}));w(r),c(r),localStorage.setItem("users",JSON.stringify(r))};return Object(n.jsxs)(h.a,{className:e.root,children:[Object(n.jsx)(R,{}),Object(n.jsxs)(O.d,{children:[Object(n.jsx)(O.b,{exact:!0,path:"/",component:K}),Object(n.jsx)(O.b,{exact:!0,path:"/users",render:function(){return Object(n.jsx)(re,{addUser:N,keyHandle:z,changeTitle:T,users:i,value:x.value,deleteUser:C})}}),Object(n.jsx)(O.b,{path:"/users/:id",render:function(e){return Object(n.jsx)(de,{valueUser:x.value,valueTodo:v.value,history:e,users:i,keyHandle:U,addTodoTaskUser:_,editTask:F,changeTitleUserTask:T,changeTitlebyModal:I,deleteTask:D})}}),Object(n.jsx)(O.b,{path:"/about",component:pe}),Object(n.jsx)(O.a,{to:"/"}),Object(n.jsx)(O.b,{render:function(){return Object(n.jsx)("h1",{style:{color:"red"},children:" 404 not found page..."})}})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.initializeApp({apiKey:"AIzaSyB-hPQZWluKy43wUjA7Zi6k5MpDR4ap7RY",authDomain:"react-quize-46f17.firebaseapp.com",databaseURL:"https://react-quize-46f17.firebaseio.com",projectId:"react-quize-46f17",storageBucket:"react-quize-46f17.appspot.com",messagingSenderId:"822369206100",appId:"1:822369206100:web:eb939cd61dc1e529cbd2c1"});var he=Object(n.jsx)(x.a,{children:Object(n.jsx)(Oe,{})});c.a.render(he,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[123,1,2]]]);
//# sourceMappingURL=main.4c006301.chunk.js.map