(this["webpackJsonptodo-firebase"]=this["webpackJsonptodo-firebase"]||[]).push([[0],{121:function(e,t,a){},122:function(e,t,a){},135:function(e,t,a){"use strict";a.r(t);var n=a(4),s=a(0),i=a.n(s),r=a(14),c=a.n(r),o=(a(121),a(40)),l=a(26),d=a(9),u=i.a.createContext(),j=a(17),b=a(205),p=(a(122),a(52)),m=a(39),h=a(182),x=a(31),O=a(6),f=a(208),g=a(191),v=a(192),k=a(189),y=a(190),w=a(55),S=a(194),N=a(193),T=a(98),I=a.n(T),C=a(100),z=a.n(C),_=a(99),L=a.n(_),U=a(195),A=a(196),D=a(197),E=a(101),B=a.n(E),M=a(49);a(123),a(125),a(136),a(137);M.a.initializeApp({apiKey:"AIzaSyB-hPQZWluKy43wUjA7Zi6k5MpDR4ap7RY",authDomain:"react-quize-46f17.firebaseapp.com",databaseURL:"https://react-quize-46f17.firebaseio.com",projectId:"react-quize-46f17",storageBucket:"gs://react-quize-46f17.appspot.com",messagingSenderId:"822369206100",appId:"1:822369206100:web:eb939cd61dc1e529cbd2c1"});var R=M.a.database(),W=(M.a.storage(),M.a.auth()),P=(M.a.firestore(),M.a),F=a(206),G=a(186),J=a(93),H=a.n(J),K=a(97),q=a.n(K),Y=a(73),Z=a.n(Y),Q=a(188),$=a(187),V=Object(h.a)((function(e){var t;return t={},Object(d.a)(t,e.breakpoints.up("xs"),{input:{width:"100%","& input":{padding:"13px 10px"}},dialog:{textAlign:"center","& form":{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"}}}),Object(d.a)(t,e.breakpoints.up("sm"),{input:{width:"100%","& input":{padding:"13px 15px"}}}),Object(d.a)(t,e.breakpoints.up("md"),{input:{width:"100%","& input":{padding:"15px 15px"}}}),Object(d.a)(t,"typography",{marginBottom:5,fontSize:"0.8rem",textOverflow:"ellipsis"}),Object(d.a)(t,"icon",{marginLeft:"auto"}),Object(d.a)(t,"blockButton",{textAlign:"center",width:"100%"}),Object(d.a)(t,"button",{margin:"5px"}),t})),X=function(){var e=V(),t=Object(s.useContext)(u),a=t.auth,r=t.authisLogged,c=t.authIsExit,o=Object(s.useState)(""),j=Object(l.a)(o,2),b=j[0],m=j[1],h=Object(s.useState)({email:"",password:""}),x=Object(l.a)(h,2),O=x[0],f=x[1],g=function(e){f(Object(p.a)(Object(p.a)({},O),{},Object(d.a)({},e.target.type,e.target.value)))},v=i.a.useState(!1),k=Object(l.a)(v,2),y=k[0],S=k[1],N=function(e){S(!1)};return Object(n.jsx)("div",{children:a?Object(n.jsxs)("div",{children:[Object(n.jsx)(w.a,{className:e.typography,children:b}),Object(n.jsx)(G.a,{value:"exit",color:"inherit",onClick:function(){c(),m("")},children:"exit"})]}):Object(n.jsxs)("div",{children:[" ",Object(n.jsx)("div",{children:Object(n.jsx)(G.a,{variant:"contained",color:"primary",onClick:function(){S(!0)},children:"Enter/Register"})}),Object(n.jsxs)($.a,{className:e.dialog,onClose:N,"aria-labelledby":"simple-dialog-title",open:y,children:[" ",Object(n.jsx)(Z.a,{className:e.icon,onClick:N}),Object(n.jsx)(Q.a,{id:"simple-dialog-title",children:" Register"}),Object(n.jsxs)("form",{className:e.form,children:[Object(n.jsx)(w.a,{className:e.typography,children:b}),Object(n.jsx)(F.a,{className:e.input,id:"outlined-Email-input",label:"email",value:O.email,type:"Email",autoComplete:"current-password",variant:"outlined",onChange:g,color:"secondary"}),Object(n.jsx)(F.a,{className:e.input,id:"outlined-password-input",label:"password",value:O.password,type:"password",autoComplete:"current-password",variant:"outlined",onChange:g,color:"secondary"}),Object(n.jsxs)("div",{className:e.blockButton,children:[" ",Object(n.jsx)(G.a,{className:e.button,type:"submit",value:"login",variant:"contained",color:"primary",onClick:function(e){e.preventDefault();var t=O.email,a=O.password;W.signInWithEmailAndPassword(t,a).then((function(e){r(),f({email:"",password:""}),m(e.user.email),localStorage.setItem("LOGIN_USER",JSON.stringify({id:e.user.uid,localId:e.user.l,email:e.user.email}))})).catch((function(e){var t=e.message;m(t)}))},children:"Login"}),Object(n.jsx)(G.a,{className:e.button,type:"submit",value:"signIn",variant:"contained",color:"primary",onClick:function(e){e.preventDefault();var t=O.email,a=O.password;console.log(O),W.createUserWithEmailAndPassword(t,a).then((function(e){r(!0),console.log("login user",e.user),f({email:"",password:""}),localStorage.setItem("LOGIN_USER",JSON.stringify({id:e.user.uid,localId:e.user.l,email:e.user.email})),m(e.user.email)})).catch((function(e){var t=e.message;console.log(t),m(t)}))},children:"Sign\xa0Up"})]}),Object(n.jsxs)(G.a,{className:e.button,type:"submit",value:"signIn",variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),console.log("auth with facebook");var t=new P.auth.FacebookAuthProvider;P.auth().signInWithPopup(t).then((function(e){var t=e.credential,a=e.user;console.log(a);t.accessToken})).catch((function(e){e.code,e.message,e.email,e.credential}))},children:[Object(n.jsx)(q.a,{}),"\xa0 Enter\xa0Facebook"]}),Object(n.jsx)(H.a,{className:e.button,onClick:function(){!function(){var e=new P.auth.GoogleAuthProvider;P.auth().signInWithPopup(e).then((function(e){var t=e.credential,a=t.accessToken,n=e.user;console.log(n,a,t),r(),f({email:"",password:""}),m(n.email,n.displayName),localStorage.setItem("LOGIN_USER",JSON.stringify({id:n.uid,localId:n.l,email:n.email,token:a}))})).catch((function(e){e.code,e.message,e.email,e.credential})),console.log("auth with gogle")}(),console.log("Google button clicked")}})]})]})]})})},ee=240,te=Object(h.a)((function(e){return{root:{display:"flex"},flexGrow:{flexGrow:1},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(ee,"px)"),marginLeft:ee,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:ee,flexShrink:0},drawerPaper:{width:ee},drawerHeader:Object(p.a)(Object(p.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}})),ae=[{title:"home",link:"/todo-material-firebase"},{title:"users",link:"/todo-material-firebase/users"},{title:"about",link:"/todo-material-firebase/about"}],ne=function(e){var t=e.auth,a=te(),s=Object(x.a)(),r=i.a.useState(!1),c=Object(l.a)(r,2),o=c[0],u=c[1],j=function(){u(!1)};return Object(n.jsxs)("div",{className:a.root,children:[Object(n.jsx)(y.a,{}),Object(n.jsx)(g.a,{position:"fixed",className:Object(O.a)(a.appBar,Object(d.a)({},a.appBarShift,o)),children:Object(n.jsxs)(v.a,{children:[Object(n.jsx)(N.a,{color:"inherit","aria-label":"open drawer",onClick:function(){u(!0)},edge:"start",className:Object(O.a)(a.menuButton,o&&a.hide),children:Object(n.jsx)(I.a,{})}),Object(n.jsx)(w.a,{className:a.flexGrow,variant:"h6",noWrap:!0,children:"Menu"}),Object(n.jsx)(X,{auth:t})]})}),Object(n.jsxs)(f.a,{className:a.drawer,variant:"persistent",anchor:"left",open:o,classes:{paper:a.drawerPaper},children:[Object(n.jsx)("div",{className:a.toolbar,children:Object(n.jsx)(N.a,{onClick:j,children:"rtl"===s.direction?Object(n.jsx)(L.a,{}):Object(n.jsx)(z.a,{})})}),Object(n.jsx)(S.a,{}),Object(n.jsx)(k.a,{children:ae.map((function(e,t){return Object(n.jsxs)(U.a,{button:!0,children:[Object(n.jsx)(A.a,{children:Object(n.jsx)(m.b,{onClick:j,exact:!0,to:e.link,className:a.link,children:Object(n.jsx)(B.a,{})})}),Object(n.jsx)(D.a,{primary:e.title})]},t)}))})]})]})},se=a(199),ie=a(203),re=a(202),ce=a(198),oe=a(200),le=a(201),de=a(108),ue=Object(h.a)((function(e){var t;return{table:{marginTop:150},th:(t={},Object(d.a)(t,e.breakpoints.up("xs"),{fontSize:".7rem",padding:"5px"}),Object(d.a)(t,e.breakpoints.up("sm"),{padding:"10px"}),Object(d.a)(t,e.breakpoints.up("md"),{fontSize:"1rem",padding:"16px"}),t)}}));function je(e){var t=e.users,a=ue();return Object(n.jsx)(ce.a,{component:de.a,children:Object(n.jsxs)(se.a,{className:a.table,"aria-label":"simple table",children:[Object(n.jsx)(oe.a,{children:Object(n.jsxs)(le.a,{children:[Object(n.jsx)(re.a,{className:a.th,children:"All Users"}),Object(n.jsx)(re.a,{className:a.th,align:"right",children:"tasks"}),Object(n.jsx)(re.a,{className:a.th,align:"right",children:"date registrashion"})]})}),Object(n.jsx)(ie.a,{children:t.map((function(e){return Object(n.jsxs)(le.a,{children:[Object(n.jsx)(re.a,{className:a.th,component:"th",scope:"row",children:e.user_name}),Object(n.jsx)(re.a,{className:a.th,align:"right",children:e.countTask}),Object(n.jsx)(re.a,{className:a.th,align:"right",children:e.time})]},e.id_user)}))})]})})}var be=a(207),pe=a(75),me=a.n(pe),he=a(102),xe=a.n(he),Oe=Object(h.a)((function(e){var t,a,n;return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap"},navLink:{display:"flex",flexGrow:1,justifyContent:" space - between",textAlign:"center",textDecoration:" none"},button:(t={},Object(d.a)(t,e.breakpoints.up("xs"),{margin:8,fontSize:".7rem"}),Object(d.a)(t,e.breakpoints.up("sm"),{margin:8,fontSize:".9rem"}),Object(d.a)(t,e.breakpoints.up("md"),{margin:8,fontSize:"1rem"}),t),divMedia:(a={},Object(d.a)(a,e.breakpoints.up("xs"),{margin:8,fontSize:".7rem",width:"100%",textAlign:"center"}),Object(d.a)(a,e.breakpoints.up("sm"),{margin:8,width:"20%",fontSize:".9rem",textAlign:"right"}),Object(d.a)(a,e.breakpoints.up("md"),{margin:8,fontSize:"1rem"}),a),icon:{fontSize:"2rem"},item:{flex:"0 auto"},ListItemText:{marginLeft:"auto","& span":(n={},Object(d.a)(n,e.breakpoints.up("xs"),{margin:8,fontSize:".5rem"}),Object(d.a)(n,e.breakpoints.up("sm"),{margin:8,fontSize:".7rem"}),Object(d.a)(n,e.breakpoints.up("md"),{margin:8,fontSize:".8rem"}),n)}}}));var fe=function(e){var t=e.users,a=e.deleteUser,s=Oe();return t.map((function(e,t){return Object(n.jsxs)("div",{children:[Object(n.jsxs)(U.a,{button:!0,className:s.root,children:[Object(n.jsxs)(m.b,{className:s.navLink,to:"/users/"+parseInt(e.id_user),children:[Object(n.jsx)(D.a,{className:s.item,primary:t+1}),"\u2003",Object(n.jsx)(xe.a,{className:s.icon}),"\u2003",Object(n.jsx)(D.a,{primary:e.user_name}),Object(n.jsx)(D.a,{className:s.ListItemText,primary:e.time})]}),Object(n.jsx)("div",{className:s.divMedia,children:Object(n.jsx)(G.a,{onClick:function(){a(t,e.id_user)},variant:"contained",color:"secondary",className:s.button,startIcon:Object(n.jsx)(me.a,{}),children:"Delete"})})]}),Object(n.jsx)(S.a,{})]},t)}))},ge=a(103),ve=a.n(ge),ke=Object(h.a)((function(e){var t,a;return{Alert:{marginTop:70,"& div":{display:"flex",alignItems:"center"}},root:{display:"flex",justifyContent:"center",flexWrap:"wrap"},textField:(t={},Object(d.a)(t,e.breakpoints.up("xs"),{width:"100%",margin:8}),Object(d.a)(t,e.breakpoints.up("sm"),{width:"80%",margin:8}),Object(d.a)(t,e.breakpoints.up("md"),{width:"80%",margin:8}),t),button:(a={},Object(d.a)(a,e.breakpoints.up("xs"),{fontSize:".7rem",margin:4}),Object(d.a)(a,e.breakpoints.up("sm"),{fontSize:"0.7rem",margin:e.spacing(1)}),Object(d.a)(a,e.breakpoints.up("md"),{fontSize:"1rem",margin:e.spacing(1)}),a)}}));var ye=function(e){var t=ke();return Object(n.jsxs)("div",{className:t.header,children:[Object(n.jsxs)(be.a,{icon:!1,severity:"info",className:t.Alert,children:[Object(n.jsx)("span",{children:Object.keys(e.users).length}),"\u2003",Object(n.jsx)(ve.a,{})," \u2003",0!==Object.keys(e.users).length?Object(n.jsx)("p",{children:" \u2003ALL USERS\u2003"}):Object(n.jsxs)(n.Fragment,{children:["\u2003",Object(n.jsx)("span",{children:"NOT USER"}),"\u2003"]}),e.value.length>3?Object(n.jsxs)("span",{children:["User name\u2003",e.value]}):Object(n.jsx)("span",{children:"Enter name more 3 letters"})]}),Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(F.a,{value:e.value,onChange:function(t){e.changeTitle(t.target.value)},onKeyUp:e.keyHandle,id:"standard-full-width",label:"Enter user",className:t.textField,placeholder:"name user",helperText:"",margin:"normal",InputLabelProps:{shrink:!0},type:"text"}),Object(n.jsx)(G.a,{onClick:e.addUser,variant:"contained",className:t.button,children:"ADD\xa0USER"})]}),Object(n.jsx)(k.a,{children:Object(n.jsx)(fe,{users:e.users,deleteUser:e.deleteUser})})]})},we=a(105),Se=a.n(we),Ne=a(104),Te=a.n(Ne),Ie=Object(h.a)((function(e){return{root:{position:"fixed",width:"300px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",display:"flex",justifyContent:"space-between",flexDirection:"column",borderRadius:"5px",border:"1px solid #a58e8eb5",boxShadow:"0px 1px 3px 0px",padding:"10px"},headerButton:{display:"flex",justifyContent:"space-between",alignItems:"center"},hideModal:{display:"none"},textField:{width:"70%"}}})),Ce=function(e){var t=e.user,a=e.show,s=e.closeModal,i=Ie();return Object(n.jsxs)("div",{className:a?i.root:i.hideModal,children:[Object(n.jsxs)("div",{className:i.headerButton,children:[Object(n.jsxs)(w.a,{className:i.typography,children:[t.id+1,"new task:",t.value]}),Object(n.jsx)(N.a,{"aria-label":"close",onClick:s,children:Object(n.jsx)(Z.a,{})})]}),Object(n.jsxs)(w.a,{className:i.typography,children:["old task:",t.title]}),Object(n.jsx)("form",{children:Object(n.jsxs)("div",{className:i.headerButton,children:[Object(n.jsx)(F.a,{label:"user task",className:i.textField,placeholder:"edit task",helperText:"",margin:"normal",InputLabelProps:{shrink:!0},type:"text",value:t.value,onChange:function(e){t.changeTitlebyModal(e.target.value)},children:" "}),Object(n.jsx)(N.a,{onClick:function(){t.editTask(t.id_user,t.id_task),s()},"aria-label":"enter",children:Object(n.jsx)(Te.a,{})})]})})]})},ze=Object(h.a)((function(e){var t,a,n;return{root:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},header:{marginTop:70},typography:(t={},Object(d.a)(t,e.breakpoints.up("xs"),{margin:8,fontSize:".7rem"}),Object(d.a)(t,e.breakpoints.up("sm"),{margin:8,fontSize:".9rem"}),Object(d.a)(t,e.breakpoints.up("md"),{margin:8,fontSize:"1rem"}),t),boxButton:(a={},Object(d.a)(a,e.breakpoints.up("xs"),{margin:8,fontSize:".5rem",width:"100%",display:"flex",justifyContent:"space-between"}),Object(d.a)(a,e.breakpoints.up("sm"),{margin:8,fontSize:".7rem",width:"100%",textAlign:"right"}),Object(d.a)(a,e.breakpoints.up("md"),{margin:8,fontSize:"1rem",width:"25%",display:"flex"}),a),button:(n={},Object(d.a)(n,e.breakpoints.up("xs"),{fontSize:".5rem"}),Object(d.a)(n,e.breakpoints.up("sm"),{fontSize:".7rem"}),Object(d.a)(n,e.breakpoints.up("md"),{fontSize:"1rem"}),n),form:{position:"fixed",width:"200px",height:"200px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"flex",justifyContent:"space-between"}}}));function _e(e){var t=ze(),a=Object(s.useState)(!1),i=Object(l.a)(a,2),r=i[0],c=i[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(U.a,{className:t.root,children:[Object(n.jsxs)(w.a,{className:t.typography,children:[e.id+1,"\u2003",e.title]}),Object(n.jsx)(w.a,{className:t.typography,children:e.time}),Object(n.jsxs)("div",{className:t.boxButton,children:[Object(n.jsx)(G.a,{onClick:function(){c(!0),console.log("coloseModal")},variant:"contained",className:t.button,startIcon:Object(n.jsx)(Se.a,{}),children:"edit"}),Object(n.jsxs)(G.a,{onClick:function(){e.deleteTask(e.id_user,e.id_task,e.id)},variant:"contained",color:"secondary",startIcon:Object(n.jsx)(me.a,{}),className:t.button,children:[" ","DELL"]})]})]}),Object(n.jsx)(Ce,{user:e,show:r,closeModal:function(){console.log("showModal"),c(!1)}}),Object(n.jsx)(S.a,{})]})}var Le=a(106),Ue=a.n(Le),Ae=Object(h.a)((function(e){var t,a;return{navLink:{},Alert:{display:"flex",justifyContent:"space-between",marginTop:70,"& div":{display:"flex",width:"50%",alignItems:"center",justifyContent:"space-between"}},root:{display:"flex",justifyContent:"center",flexWrap:"wrap"},textField:(t={},Object(d.a)(t,e.breakpoints.up("xs"),{width:"100%",margin:8}),Object(d.a)(t,e.breakpoints.up("md"),{width:"85%",margin:8}),t),button:(a={},Object(d.a)(a,e.breakpoints.up("xs"),{fontSize:".7rem"}),Object(d.a)(a,e.breakpoints.up("md"),{fontSize:"1rem",margin:e.spacing(1)}),a)}})),De=function(e){var t,a,s=Ae();return console.log("==============UserPersonalTasks render user tasks",e),e.users.length&&(void 0===(a=e.users.find((function(t){return t.id_user===parseInt(e.history.match.params.id)}))).tasks&&(a.tasks=[]),t=a.tasks.map((function(t,a){return Object(n.jsx)(_e,{id:a,id_user:parseInt(e.history.match.params.id),id_task:t.id_task,value:e.valueTodo,title:t.title,time:t.time_task,editTask:e.editTask,changeTitlebyModal:e.changeTitlebyModal,deleteTask:e.deleteTask},a)}))),Object(n.jsxs)("div",{className:s.header,children:[Object(n.jsxs)(be.a,{icon:!1,severity:"info",className:s.Alert,children:[Object(n.jsx)(m.b,{className:s.navLink,to:"/users/",children:Object(n.jsx)(N.a,{children:Object(n.jsx)(Ue.a,{})})}),void 0===t?Object(n.jsx)("p1",{children:"at firs add user"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("p",{children:a.user_name}),"\xa0",Object(n.jsxs)("p",{children:["tasks \xa0",a.tasks.length]})]})]}),Object(n.jsxs)("div",{className:s.root,children:[Object(n.jsx)(F.a,Object(d.a)({id:"standard-full-width",label:"Enter task",className:s.textField,placeholder:"name task",helperText:"",margin:"normal",InputLabelProps:{shrink:!0},type:"text",value:e.valueUser,onKeyUp:function(t){e.keyHandle(t,parseInt(e.history.match.params.id),a.tasks.length)},onChange:function(t){e.changeTitleUserTask(t.target.value)}},"type","text")),Object(n.jsx)(G.a,{onClick:function(){e.addTodoTaskUser(parseInt(e.history.match.params.id),a.tasks.length)},disabled:0===e.users.length,variant:"contained",className:s.button,children:"ADD\xa0TASK"})]}),Object(n.jsxs)(k.a,{children:[t," "]})]})},Ee=a(204),Be=Object(h.a)((function(e){return{root:{marginTop:130},MuiAlertTitleRoot:{marginTop:0}}}));function Me(e){var t=e.message,a=Be();return Object(n.jsx)("div",{className:a.root,children:Object(n.jsx)(be.a,{severity:"info",children:Object(n.jsxs)(Ee.a,{className:a.MuiAlertTitleRoot,children:[" ",t]})})})}var Re=Object(h.a)((function(e){var t;return{root:(t={},Object(d.a)(t,e.breakpoints.up("xs"),{maxWidth:"400px",paddingLeft:"0px",paddingRight:"0px"}),Object(d.a)(t,e.breakpoints.up("sm"),{maxWidth:" 600px"}),Object(d.a)(t,e.breakpoints.up("md"),{maxWidth:" 960px"}),t),h3:{marginTop:150,marginLeft:30}}}));var We=function(){var e=Re(),t=JSON.parse(localStorage.getItem("users"))||[],a=["\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0438 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0437\u0430\u043c\u0435\u0442\u043e\u043a","At First You need to LOGIN or Register"],i=Object(s.useState)(t),r=Object(l.a)(i,2),c=r[0],d=r[1],p=Object(s.useState)({value:""}),m=Object(l.a)(p,2),h=m[0],x=m[1],O=Object(s.useState)({value:""}),f=Object(l.a)(O,2),g=f[0],v=f[1],k=Object(s.useState)(!1),y=Object(l.a)(k,2),w=y[0],S=y[1];Object(s.useEffect)((function(){!function(e){var t=Object(o.a)(c);R.ref().on("value",(function(e){console.log(e.val())})),R.ref().on("value",(function(e){if(e.val()){var a=t.concat(Object.values(e.val())).filter((function(e,t,a){return t===a.findIndex((function(t){return e.id_user===t.id_user}))}));localStorage.setItem("users",JSON.stringify(a)),d(a)}}))}()}),[]);var N=function(e){R.ref("users/"+e.id_user).set(e).then((function(e){}))},T=function(){var e={id_user:Date.now()+1,time:(new Date).toString().split("G")[0],user_name:h.value,completed:!1,tasks:[],countTask:0};if(h.value.length>2){var t=Object(o.a)(c);t.push(e),localStorage.setItem("users",JSON.stringify(t)),d(t),x({value:""}),N(e)}else console.log("change title")},I=function(e){x({value:e})},C=function(e){v({value:e})},z=function(e){13===e.keyCode&&h.value.length>2&&T()},_=function(e,t,a){13===e.keyCode&&h.value.length>2&&L(t,a)},L=function(e,t){if(console.log("ddTodoTaskUser"),h.value.length>2){var a=Object(o.a)(c),n=a.find((function(t,a){return t.id_user===e}));n.countTask=t+1;var s=Object(o.a)(n.tasks),i=new Date;s.push({id_task:(new Date).getTime()+1,title:h.value,time_task:"".concat((new Date).toLocaleDateString()," :").concat(i.getHours(),":").concat(i.getMinutes())}),n.tasks=s,d(a),localStorage.setItem("users",JSON.stringify(a)),x({value:""}),N(n)}},U=function(e,t){var a=Object(o.a)(c),n=a.find((function(t){return t.id_user===e})),s=Object(o.a)(n.tasks);s.map((function(e){return e.id_task===t&&(e.title=g.value),e})),n.tasks=s,a.map((function(t){return e===t.id_user&&(t=n),t})),d(a),localStorage.setItem("users",JSON.stringify(a)),v({value:""}),N(n)},A=function(e,t){var a,n=Object(o.a)(c);n.splice(e,1),d(n),a=t,R.ref("users").child(a).remove(),localStorage.setItem("users",JSON.stringify(n))},D=function(e,t,a){console.log(a);var n=Object(o.a)(c),s=n.find((function(t){return t.id_user===e}));s.tasks.splice(a,1),n.push(s),console.log(n);var i=n.filter((function(e,t){return n.indexOf(e)===t}));N(s),d(i),localStorage.setItem("users",JSON.stringify(i))};return Object(n.jsx)(u.Provider,{value:{auth:w,authisLogged:function(){S(!0)},authIsExit:function(){S(!1)}},children:Object(n.jsxs)(b.a,{className:e.root,children:[Object(n.jsx)(ne,{}),Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{exact:!0,path:"/todo-material-firebase",render:function(){return Object(n.jsx)(je,{users:c})}}),w?Object(n.jsx)(j.b,{exact:!0,path:"/todo-material-firebase/users",render:function(){return Object(n.jsx)(ye,{addUser:T,keyHandle:z,changeTitle:I,users:c,value:h.value,deleteUser:A})}}):Object(n.jsx)(j.b,{exact:!0,path:"/todo-material-firebase/users",render:function(){return Object(n.jsx)(Me,{message:a[1]})}}),Object(n.jsx)(j.b,{path:"/todo-material-firebase/users/:id",render:function(e){return Object(n.jsx)(De,{valueUser:h.value,valueTodo:g.value,history:e,users:c,keyHandle:_,addTodoTaskUser:L,editTask:U,changeTitleUserTask:I,changeTitlebyModal:C,deleteTask:D})}}),Object(n.jsx)(j.b,{path:"/about",render:function(){return Object(n.jsx)(Me,{message:a[0]})}}),Object(n.jsx)(j.a,{to:"/todo-material-firebase"})]})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pe=Object(n.jsx)(m.a,{children:Object(n.jsx)(We,{})});c.a.render(Pe,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[135,1,2]]]);
//# sourceMappingURL=main.99fe9a10.chunk.js.map